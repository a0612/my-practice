<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>åˆ©ç”¨multi-columnå±æ€§é…åˆæ»šåŠ¨åŠ è½½å®ç°ç€‘å¸ƒæµåŠŸèƒ½</title>
  <script src="./vue.js"></script>
</head>
<body>
  <div id="app">
    <!-- å‚è€ƒï¼šhttps://ainyi.com/60 -->
    <h5>é€‚ç”¨äºå½“æˆ‘æ•°æ®æ˜¯å›ºå®šæ•°é‡æ˜¾ç¤ºçš„æ—¶å€™å¯ä»¥é‡‡ç”¨è¿™ä¸ªæ–¹æ¡ˆï¼Œå…¶ä»–æƒ…å†µä¸‹æœ‰é—®é¢˜ï¼Œå°±æ˜¯å½“ç¿»é¡µçš„æ—¶å€™ä¼šé‡æ–°æŠŠåˆ—è¡¨ç»™è®¡ç®—ä¸€éï¼Œæ€§èƒ½æœ‰é—®é¢˜ï¼Œè€Œä¸”è®¡ç®—ç»“æœä¸æ˜¯æˆ‘æƒ³è¦çš„</h5>
    <water-fall :list="list"></water-fall>
  </div>
  <script type="text/javascript">
    var list = [
          {
            "id": 75686,
            "pic": "https://img.mishifeng.com/FtC316_PmZNgWt1MPx3Q6pAMH2v-?imageView2/1/w/400/h/530/format/jpg/q/75",
            "width": 400,
            "height": 530,
            "title": "ğŸŒ§ ä¸‹é›¨å¤©ï¼Œä¸€èµ·åˆ†äº«ä½ æœ€çˆ±çš„ç¾é£Ÿ",
            "user_id": 1000005505,
            "user_nickname": "è§…å°èœ‚",
            "user_avatar": "https://img.mishifeng.com/FuQ8IIggYHYKv14CutEIBN0hUgeh?imageView2/1/w/100/h/100/format/webp/q/75",
            "quality_user": 0,
            "likes_num": 136,
            "likes_status": false
          },
          {
            "id": 77511,
            "pic": "https://img.mishifeng.com/FmIDuUOXE_6sJk7yteTOIoDD1nhv?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "æ­¦åº·åº­å†…çš„ä¸€æ ªCoffee TreeğŸŒ¿",
            "user_id": 1000080562,
            "user_nickname": "å°å´è€å¸ˆåœ¨åƒé¥­",
            "user_avatar": "http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJKGjP4osqZaR5WFrUcicZKF6hCgVfjWicibHl9DThfW0ojHFxPoM6LF93HsZ03QToIR810zIHEJ4iaxw/132",
            "quality_user": 0,
            "likes_num": 54,
            "likes_status": false
          },
          {
            "id": 77570,
            "pic": "https://img.mishifeng.com/FiFVNEKF1H-CFlPCSdILsjJ6pgu9?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "è—åœ¨å·¨é¹¿è·¯çš„æ²™æ»©é£é¤å…ï¼Œæœ‰ä¼šå–·ç«çš„æ„é¢",
            "user_id": 1000001851,
            "user_nickname": "å´å¤ªå¤ª",
            "user_avatar": "https://img.mishifeng.com/Fvl7fgQM6oYYfZvFTD6kN9qsEEBX?imageView2/1/w/100/h/100/q/75",
            "quality_user": 0,
            "likes_num": 26,
            "likes_status": false
          },
          {
            "id": 77479,
            "pic": "https://img.mishifeng.com/FgxpgBSavdf8klWVLg_Qj16iApGY?imageView2/1/w/400/h/400/format/jpg/q/75",
            "width": 400,
            "height": 400,
            "title": "åˆå¸‚æ€§ä»·æ¯”å¾ˆé«˜çš„å®šé£Ÿå¥—é¤",
            "user_id": 1000001748,
            "user_nickname": "æˆ‘æ˜¯ç¾é£Ÿå®¶ï¼Œä¸æ˜¯åƒè´§",
            "user_avatar": "https://img.mishifeng.com/FgQNbS9YTxZaikHRARMERQ67QDL3?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 76,
            "likes_status": false
          },
          {
            "id": 77764,
            "pic": "https://img.mishifeng.com/Fg5WDVI1z_xtnMgzUgoUSx5lmpPH?imageView2/1/w/400/h/400/format/jpg/q/75",
            "width": 400,
            "height": 400,
            "title": "å¿«æ¥çœ‹çœ‹è‡ªç§°â€œè¡Œå®¶â€çš„æµ·é²œç«é”…æœ‰å¤šç²¾è‡´",
            "user_id": 1000012854,
            "user_nickname": "ğŸ¤©à¹“Katherineà¹“ğŸ¤£",
            "user_avatar": "http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJnibBNBwJ2b4K2TrpcAiag2T52mZ00iazXIjmKW6kPVTbiaGAxZvicTQHeyboudtItZYc8PEGopZ7ASrg/132",
            "quality_user": 0,
            "likes_num": 6,
            "likes_status": false
          },
          {
            "id": 77480,
            "pic": "https://img.mishifeng.com/FlPtSvdn3XCV7Di9n8snaYmD6USx?imageView2/1/w/400/h/400/format/jpg/q/75",
            "width": 400,
            "height": 400,
            "title": "å¿…åƒæ¦œæ—¥å¼çƒ§è‚‰",
            "user_id": 1000001748,
            "user_nickname": "æˆ‘æ˜¯ç¾é£Ÿå®¶ï¼Œä¸æ˜¯åƒè´§",
            "user_avatar": "https://img.mishifeng.com/FgQNbS9YTxZaikHRARMERQ67QDL3?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 59,
            "likes_status": false
          },
          {
            "id": 76967,
            "pic": "https://img.mishifeng.com/FqxCH8aqq8UmITwJIrWIVGvFV00p?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "ç³•å›¢å¤§ç‹âœ¨å¤§å¤§æ–¹æ–¹è®©ä½ ä¸€æ¬¡åƒä¸ªå¤Ÿï¼",
            "user_id": 1000743441,
            "user_nickname": "17å²19å·",
            "user_avatar": "https://img.mishifeng.com/FkpsbEayv7imbuTq_UL634tS-dWo?imageView2/1/w/100/h/100/q/75",
            "quality_user": 0,
            "likes_num": 105,
            "likes_status": false
          },
          {
            "id": 77249,
            "pic": "https://img.mishifeng.com/FrTN74GskgBpqTvYFJ3JWUMuje1_?imageView2/1/w/400/h/400/format/jpg/q/75",
            "width": 400,
            "height": 400,
            "title": "éŸ©å¼çƒ¤è‚‰çˆ±å¥½è€…æ·±å¤œé£Ÿå ‚",
            "user_id": 1000075330,
            "user_nickname": "æ´›å°æ±",
            "user_avatar": "https://img.mishifeng.com/FjiHLNIiQj4W49wr4KUJmdFckLCP?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 46,
            "likes_status": false
          },
          {
            "id": 77198,
            "pic": "https://img.mishifeng.com/Fuv6sNWF49wSct3PNbuzN5i57fBE?imageView2/1/w/400/h/532/format/jpg/q/75",
            "width": 400,
            "height": 532,
            "title": "é«˜é¢œå€¼æ‹æš–æ–°å“å†°æ·‡æ·‹é¥®å“",
            "user_id": 1000001650,
            "user_nickname": "Sasa0828",
            "user_avatar": "https://img.mishifeng.com/Ft4Nz6hLelw6Pzpgf3_7ItJnLgmX?imageView2/1/w/100/h/100/q/75",
            "quality_user": 0,
            "likes_num": 58,
            "likes_status": false
          },
          {
            "id": 77774,
            "pic": "https://img.mishifeng.com/FonVOD5xX44vxyUrBegtnbqyy2vX?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "ç¯çƒæ¸¯é‡Œçš„å±±è‘µæ‹Œæ—¥æ–™æœ‰ç‰¹è‰²",
            "user_id": 1000026169,
            "user_nickname": "æ£®å¥³ç³»",
            "user_avatar": "https://img.mishifeng.com/FrTP3pM9-gEV2DA4Ja5Gg203wX5H?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 8,
            "likes_status": false
          },
          {
            "id": 77498,
            "pic": "https://img.mishifeng.com/FvQ7BN2ijGbOk3RR7ZbxAtJ0o_pa?imageView2/1/w/400/h/300/format/jpg/q/75",
            "width": 400,
            "height": 300,
            "title": "å‘¨æ—¥å¤–æ»©Brunchèµ°ä¸€ä¸ª",
            "user_id": 1001147319,
            "user_nickname": "åƒåƒçš„çˆ±",
            "user_avatar": "https://img.mishifeng.com/Fu3Zljh4GhL0QXz2A2rbRvjTThOC?imageView2/1/w/100/h/100/q/75",
            "quality_user": 0,
            "likes_num": 55,
            "likes_status": false
          },
          {
            "id": 77633,
            "pic": "https://img.mishifeng.com/FhUZmx7WzGTvg-quTNVkx1dL-T1w?imageView2/1/w/400/h/400/format/jpg/q/75",
            "width": 400,
            "height": 400,
            "title": "ğŸ‰ğŸ‰æ€§ä»·æ¯”è¶…é«˜çš„æ—¥æ–™æ”¾é¢˜ğŸŠğŸŠ",
            "user_id": 1000717260,
            "user_nickname": "ä¸ä¼šè¹¦è·¶çš„ç’ç’",
            "user_avatar": "https://img.mishifeng.com/FiPM8GUZSlcsoKRPNw0k8iKam90F?imageView2/1/w/100/h/100/format/webp/q/75",
            "quality_user": 0,
            "likes_num": 13,
            "likes_status": false
          },
          {
            "id": 77794,
            "pic": "https://img.mishifeng.com/FtRjJilcGfBzVgnaL-J--7YJP76H?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "æ™šé¤åæƒ³å¬ä¸€é¦–æ­Œ",
            "user_id": 1000002299,
            "user_nickname": "è“è“è“",
            "user_avatar": "https://img.mishifeng.com/FuXPw9UrQ6aX7JbNcXgCqPUFLezk?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 6,
            "likes_status": false
          },
          {
            "id": 77618,
            "pic": "https://img.mishifeng.com/FvuEpHZ4A7GC4T4K7D8Q8AwaB22w?imageView2/1/w/400/h/498/format/jpg/q/75",
            "width": 400,
            "height": 498,
            "title": "è¨ç“¦è¿ªå¡ï½ğŸ’“",
            "user_id": 1000760669,
            "user_nickname": "å¼€å¿ƒå°æ¡ƒæ¡ƒ",
            "user_avatar": "https://img.mishifeng.com/FuausMk7lQcf_6zpvPfkM_VQtJoX?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 24,
            "likes_status": false
          },
          {
            "id": 77738,
            "pic": "https://img.mishifeng.com/FmKVF5Wo4LaJXziEIr-Q4CszuWr4?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "Timsç¼¤è°·å¹¿åœºåº—æ‰“å¡ğŸ˜",
            "user_id": 1000081166,
            "user_nickname": "æ¡ƒç­±æ¡ƒ",
            "user_avatar": "https://img.mishifeng.com/Fo90U3Rwa2rpQYQuXdgdGUMUE1iO?imageView2/1/w/100/h/100/q/75",
            "quality_user": 0,
            "likes_num": 13,
            "likes_status": false
          },
          {
            "id": 77620,
            "pic": "https://img.mishifeng.com/FhT2fFqClL1YCASgMSj1n5zEO8Sk?imageView2/1/w/400/h/400/format/jpg/q/75",
            "width": 400,
            "height": 400,
            "title": "è¶…ç¾å‘³çš„å’¸è›‹é»„è™¾çƒ",
            "user_id": 1000595515,
            "user_nickname": "è§…é£Ÿèœ‚D94JOP",
            "user_avatar": "http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK7acK1JpiaPw8qp7MVvHhR8T9Y967DYhouS6ajFQZIrKiauI8nWj9LV2RCwIHuAWK9P0jrNn1GHbpQ/132",
            "quality_user": 0,
            "likes_num": 20,
            "likes_status": false
          },
          {
            "id": 77647,
            "pic": "https://img.mishifeng.com/FqCUtGld-1XQ7WvbM2_st0qhQ_ek?imageView2/1/w/400/h/400/format/jpg/q/75",
            "width": 400,
            "height": 400,
            "title": "å¤§é—¸èŸ¹hairy crab Buffet",
            "user_id": 1000017741,
            "user_nickname": "Dc mars",
            "user_avatar": "https://img.mishifeng.com/Fn6fRKJKr3U-KjkRhQqJl2NQJD4y?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 16,
            "likes_status": false
          },
          {
            "id": 77507,
            "pic": "https://img.mishifeng.com/FjNmwDvTfo70KH_0hSfhuGLEcMEp?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "ğŸ¤å°é¾™è™¾&çƒ§çƒ¤ğŸ¢å®Œç¾çš„å¤å¤©ï¼",
            "user_id": 1000760669,
            "user_nickname": "å¼€å¿ƒå°æ¡ƒæ¡ƒ",
            "user_avatar": "https://img.mishifeng.com/FuausMk7lQcf_6zpvPfkM_VQtJoX?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 57,
            "likes_status": false
          },
          {
            "id": 77370,
            "pic": "https://img.mishifeng.com/FvNOFFkReM3gYf9XXY1CmlspOpmN?imageView2/1/w/400/h/300/format/jpg/q/75",
            "width": 400,
            "height": 300,
            "title": "å¥åº·ç¾å‘³æ—©åˆé¤",
            "user_id": 1001142692,
            "user_nickname": "ç¦ç¦ç¦å·´é»",
            "user_avatar": "https://img.mishifeng.com/FhvJV9_q14Z0sR1CL9AjsKMI1kDn?imageView2/1/w/100/h/100/format/jpg/q/75",
            "quality_user": 0,
            "likes_num": 63,
            "likes_status": false
          },
          {
            "id": 77474,
            "pic": "https://img.mishifeng.com/FmgPLlIBThgGDAQNF0KOJmR5anCV?imageView2/1/w/400/h/533/format/jpg/q/75",
            "width": 400,
            "height": 533,
            "title": "æ­£èƒ½é‡æ»¡æ»¡",
            "user_id": 1000013707,
            "user_nickname": "swinng",
            "user_avatar": "https://img.mishifeng.com/FgFvNNoxWuuLNOTk1KuDNw39GjgL?imageView2/1/w/100/h/100/q/75",
            "quality_user": 0,
            "likes_num": 63,
            "likes_status": false
          }
        ]

    Vue.component('waterFall', {
      template:`<div class='masonry'>
                  <div class='item' v-for="item in list">
                    {{ item.id }}
                    <img :src="item.pic">
                  </div>
                </div>`,
      props: {
        list: {
          type: Array
        },
      }
    })

    var vm = new Vue({
      el: '#app',
      data: function() {
        return {
          list: list,
        }
      },
      created(){
        console.log('aaa')
        var this_ = this;
        window.addEventListener('scroll', function(e) {
          var lastIndex = this_.list.length - 1;
          var clientHeight = document.documentElement.clientHeight; // è·å–å±å¹•å¯è§†åŒºåŸŸçš„é«˜åº¦
          var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; // æ»šåŠ¨æ¡æ»šåŠ¨æ—¶ï¼Œè·ç¦»é¡¶éƒ¨çš„è·ç¦»
          var scrollHeight = document.documentElement.scrollHeight; // æ»šåŠ¨æ¡çš„æ€»é«˜åº¦
          // æ»šåŠ¨åˆ°åº•éƒ¨çš„æ¡ä»¶
          // è¶…å‡ºé¡¶éƒ¨çš„è·ç¦» + å±å¹•çš„é«˜åº¦ = æ€»çš„æ»šåŠ¨åŒºåŸŸçš„é«˜åº¦
          if (scrollTop + clientHeight >= scrollHeight - 50) {
            this_.list.splice(lastIndex + 1, 0, ...list)
          }
        })
      },
    })
    </script>
    <style>
      html *{
        padding: 0;
        margin: 0;
      }
      body{
        width: 100vw;
        height: 100vh;
        overflow-y: scroll;
        overflow-x: hidden;
      }
      .masonry{
        column-count: 2;
        column-gap: 20px;
      }
      .item{
        break-inside: avoid;
      }
      .item img{
        display: block;
        width: 100%;
      }
    </style>
</body>
</html>
